<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Shimmer &#8212; Shimmer 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Definition" href="section/01-definition.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="#">
          <span>Shimmer 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Shimmer</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="#">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="section/01-definition.html">Definition</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="shimmer">
<h1>Shimmer<a class="headerlink" href="#shimmer" title="Permalink to this headline">¶</a></h1>
<p>Shimmer, or the Simple Meta Representation (SMR), is a generic way of representing the abstract syntax trees typically used as intermediate representations (IRs) in a compiler or other language processor. The Shimmer tool chain provides ways to evaluate, transform, and otherwise <em>munge</em> expressions represented in this form.</p>
<p>Shimmer is not itself a real programming language because it does not specify an evaluation method. Shimmer is neither specifically call-by-name, call-by-value or any other. However, particular implementations may provide evaluation methods, and in those cases Spartan, Scheme-like programs can be written in Shimmer form. Due to the intentionally verbose concrete syntax this is recommended for language developers rather than end users. The intent is that some nicer front-end language will be desugared into Shimmer code and then transformed, compiled or interpreted from there.</p>
<p>For those that can take a joke, Shimmer is the Turtle at the Bottom of the World. An SK combinator representation would be a Lower Turtle, but due to the lack of human readable names and exponential size of SK encodings the SK-Turtle is of arguably greater academic interest but lesser practical interest. We will say no more about Turtles. You can still write SK combinator expressions in Shimmer if you want to.</p>
<p>Here is a small Shimmer file to give a taste of the syntax.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>@list-case xx alt-nil alt-cons
 = #match xx  %list-nil         alt-nil
  (#match xx (%list-cons #o #o) alt-cons
   %fail);

@list-range a b
 = #if (#nat-gt a b)
       %list-nil
       (%list-cons a (@list-range (#nat-add a #nat-1) b));

@list-foldl f z xx
 = @list-case xx z (\x. \xs. @list-foldl f (f z x) xs);
</pre></div>
</div>
<p><a class="reference download internal" href="_downloads/00-Intro.smr" download=""><code class="xref download docutils literal"><span class="pre">Download</span></code></a></p>
<p>Names like <code class="docutils literal"><span class="pre">&#64;list-foldl</span></code> refer to macros defined at top level. Names like <code class="docutils literal"><span class="pre">%list-cons</span></code> refer to uninterpreted symbols. Names like <code class="docutils literal"><span class="pre">#nat-add</span></code> refer to primitive operators.</p>
<p>We can load up the file into the Shimmer interpreter and use it to compute the factorial of a number:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>$ smr 00-Intro.smr
Shimmer, version 1.0. The Turtle at the Bottom of the World.
&gt; @list-foldl #nat-mul #nat-1 (@list-range #nat-1 #nat-10)
#nat-3628800
</pre></div>
</div>
<p>The default evaluation method for this implementation is normal order reduction, though others are available. Instead of using primitive natural numbers we could have built them up out of functions using Church encoding, but then the example would have taken longer to execute. I suppose we lied a bit about it not being a programming language.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">More Details:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="section/01-definition.html">Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="section/02-primitives.html">Primitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="section/03-examples.html">Examples</a></li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="#">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="section/01-definition.html">Definition</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Shimmer Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.
    </div>
  </body>
</html>